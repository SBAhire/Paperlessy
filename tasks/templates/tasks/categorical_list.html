{% extends './base.html' %}

{% block content %}


<div class="container mt-5">
    <div class="jumbotron " style="background-color: #fff;">
        <p class="h1 mb-5">{{title}}</p>
        <div class="d-flex  text-primary color-primary bg-light my-3 p-3" style="background-color: #fcfcfc;" >
            <form action="" method="post" class="input-group">
                {% csrf_token %}
                <input type="text" name="task_name"  maxlength="200" placeholder="Have a new task of this type?" required id="id_task_name" class="form-control">
                <select name="category" required id="id_category" style="visibility:hidden;" >
                    <option value="{{category_id}}" selected></option>
                </select>
                <button type="submit" class="btn btn-primary">Add Task</button>
            </form>
        </div>

        
        <div>
            
            {% for task in tasks %}
            <div class="d-flex  text-primary color-primary bg-light my-3 p-3" style="background-color: #fcfcfc;">
                <a href="{% url 'delete_task' category_id task.id%}" class="btn btn-success bi bi-check-circle" style="border-radius: 50%;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle mb-1" viewBox="0 0 16 16">
                        
                        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                      </svg>
                </a>
                {% if task.is_completed %}
                    <s class="mt-2"><a href="{% url 'task' category_id task.id %}" class="text-dark ml-5 mt-4" style="text-decoration: none;">{{task}}</a> </s>
                {% else %}
                    <a href="{% url 'task' category_id task.id %}" class="text-dark ml-5 mt-2 "style="text-decoration: none;">{{task}}</a>
                {% endif %}
                
            </div>
            {% endfor %}
                
        </div>
        <div class="d-flex  text-primary color-primary row" style="background-color: #fcfcfc;" >
            <div class="col"></div>

            <a href="{% url 'delete_category' category_id %}" class="btn btn-danger mt-3 col">Delete Category {{title}}</a>
            <div class="col"></div>
        </div>
        
    </div>
    
</div>

{% endblock %}